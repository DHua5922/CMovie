(this.webpackJsonpcmovie=this.webpackJsonpcmovie||[]).push([[0],{137:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(17),o=n.n(a),i=(n(79),n(80),n(81),n(74)),u=n(20),s=n(14),p=n.n(s),d=n(25),l=n(26),j=n(23),b=n.n(j),v={getConfiguration:function(){return b.a.get("/3/configuration?api_key=".concat("e1dc213ccbcaa6eadb77075160fe39dd"))},getTopRatedMovies:function(){return b.a.get("/3/movie/top_rated?api_key=".concat("e1dc213ccbcaa6eadb77075160fe39dd","&language=en-US&page=1"))},getPopularMovies:function(){return b.a.get("/3/movie/popular?api_key=".concat("e1dc213ccbcaa6eadb77075160fe39dd","&language=en-US&page=1"))},getNowPlayingMovies:function(){return b.a.get("/3/movie/now_playing?api_key=".concat("e1dc213ccbcaa6eadb77075160fe39dd","&language=en-US&page=1"))},searchMovies:function(e){return b.a.get("/3/search/movie?api_key=".concat("e1dc213ccbcaa6eadb77075160fe39dd","&language=en-US&query=").concat(e,"&page=1"))}};var f,O=function(){var e=Object(r.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){n||function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getConfiguration();case 2:t=e.sent,c(t.data.images);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[n]),n},h=n(64),m=n.n(h),x=(n(112),n(27)),g=n.n(x),w=n(3),k=g.a.div(f||(f=Object(u.a)(["\n    text-center\n"])));var y=function(e){var t=e.title,n=e.src,r=e.onClick;return Object(w.jsxs)("div",{className:"shadow-md",onClick:r,children:[Object(w.jsx)("img",{src:n,alt:""}),Object(w.jsx)(k,{children:t})]})},P=n(9),S="UPDATE_SEARCH_INPUT",_="CLOSE_POPUP",C="OPEN_POPUP",M={openPopup:function(e){return{type:C,payload:e}},closePopup:function(){return{type:_}}};var I,N=function(e){var t=e.movies,n=O(),r=Object(P.b)();return n&&Object(w.jsx)(m.a,{responsive:{superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:5},desktop:{breakpoint:{max:3e3,min:1024},items:3},tablet:{breakpoint:{max:1024,min:464},items:2},mobile:{breakpoint:{max:464,min:0},items:1}},children:t.map((function(e,t){var c=n.base_url,a=n.backdrop_sizes,o=e.backdrop_path,i=e.title;return Object(w.jsx)("div",{className:"my-2 mx-3",children:Object(w.jsx)(y,{title:i,src:c+a[a.length-1]+o,onClick:function(){return r(M.openPopup(e))}})},t)}))})},E=g.a.div(I||(I=Object(u.a)(["\n    text-3xl\n    pb-3\n"])));var R=function(e){var t=e.title,n=void 0===t?"":t,r=e.movies;return Object(w.jsxs)("div",{className:"pt-3",children:[Object(w.jsx)(E,{children:n}),Object(w.jsx)(N,{movies:r})]})},T=n(47);var U,F=function(){return Object(w.jsx)(T.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:Object(w.jsx)(T.a.Brand,{href:"/CMovie",children:"CMovie"})})},B=n(141),H={updateSearchInput:function(e){return{type:S,payload:e}}},q=n(7),D=g.a.input(U||(U=Object(u.a)(["\n    focus:border-0\n    w-full\n    focus:outline-none\n    shadow-md\n    rounded-3xl\n    px-4\n    py-2\n"])));function L(){var e=Object(q.f)(),t=Object(P.c)((function(e){return e.searchReducer})).input;return function(n){n.preventDefault(),e.push("/search?query=".concat(t))}}var z=function(){var e=Object(P.b)(),t=Object(P.c)((function(e){return e.searchReducer})).input;return Object(w.jsx)(B.a,{onSubmit:L(),children:Object(w.jsx)(D,{placeholder:"Search movies...",onChange:function(t){return e(H.updateSearchInput(t.target.value))},value:t})})},A=n(69),J=n(140);var G,K=function(e){var t=e.show,n=e.onHide,r=e.movieInfo,c=r.title,a=r.backdrop_path,o=r.overview;return Object(w.jsxs)(J.a,{show:t,onHide:n,centered:!0,children:[Object(w.jsx)(J.a.Header,{closeButton:!0,children:Object(w.jsx)(J.a.Title,{children:c})}),Object(w.jsxs)(J.a.Body,{children:[Object(w.jsx)("img",{src:a,alt:""}),Object(w.jsx)("div",{children:o})]})]})},Q=A.a.div(G||(G=Object(u.a)(["\n    padding: 30px 8vw;\n"])));var V=function(e){return function(){var t=Object(P.b)(),n=Object(P.c)((function(e){return e.popupReducer})),r=n.movieInfo,c=n.show;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(F,{}),Object(w.jsxs)(Q,{children:[Object(w.jsx)(z,{}),Object(w.jsx)(e,{})]}),Object(w.jsx)(K,{show:c,onHide:function(){return t(M.closePopup())},movieInfo:r})]})}};function W(){var e=Object(r.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){n||function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getTopRatedMovies();case 2:t=e.sent,c(t.data.results);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[n]),n}function X(){var e=Object(r.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){n||function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getPopularMovies();case 2:t=e.sent,c(t.data.results);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[n]),n}function Y(){var e=Object(r.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){n||function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getNowPlayingMovies();case 2:t=e.sent,c(t.data.results);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[n]),n}function Z(){var e=[{title:"Top Movies",movies:W()},{title:"Popular Movies",movies:X()},{title:"Now Playing",movies:Y()}];return Object(w.jsx)("div",{className:"px-8 pt-2",children:e.map((function(e){return Object(w.jsx)(w.Fragment,{children:e.movies&&Object(w.jsx)(R,Object(i.a)({},e))})}))})}var $=function(){var e=V(Z);return Object(w.jsx)(e,{})},ee=n(42),te=n(73),ne=n.n(te),re=n(139),ce=n(67);function ae(){var e=ne.a.parse(window.location.search).query,t=Object(P.b)();t(H.updateSearchInput(e));var n=function(e){var t=Object(r.useState)(null),n=Object(l.a)(t,2),c=n[0],a=n[1];return Object(r.useEffect)((function(){c||function(){var t=Object(d.a)(p.a.mark((function t(){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.searchMovies(e);case 2:n=t.sent,a(n.data.results);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[c,e]),c}(e),c=O();return Object(w.jsx)(re.a,{className:"px-12",children:c&&n&&n.map((function(e,n){var r=c.backdrop_sizes,a=c.base_url,o=e.backdrop_path,i=e.title;return Object(w.jsx)(ce.a,{xs:"12",sm:"6",md:"4",lg:"3",className:"p-4",children:Object(w.jsx)(y,{title:i,src:a+r[r.length-1]+o,onClick:function(){return t(M.openPopup(e))}})},n)}))})}var oe=function(){var e=V(ae);return Object(w.jsx)(e,{})};var ie=function(){return Object(w.jsx)(ee.a,{basename:"/CMovie",children:Object(w.jsxs)(q.c,{children:[Object(w.jsx)(q.a,{exact:!0,path:"/",component:$}),Object(w.jsx)(q.a,{path:"/search",component:oe})]})})},ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,142)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),a(e),o(e)}))};b.a.interceptors.request.use((function(e){return e.url="https://api.themoviedb.org"+e.url,e}),(function(e){return Promise.reject(e)}));var se=n(28),pe={input:""};var de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;return n===S?{input:r}:e},le={show:!1,movieInfo:{title:"",backdrop_path:"",overview:""}};var je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0,n=t.type;return n===_?{show:!1,movieInfo:e.movieInfo}:n===C?{show:!0,movieInfo:t.payload}:e},be=Object(se.b)({searchReducer:de,popupReducer:je}),ve=Object(se.c)(be);o.a.render(Object(w.jsxs)(c.a.StrictMode,{children:[Object(w.jsx)(P.a,{store:ve,children:Object(w.jsx)(ie,{})}),","]}),document.getElementById("root")),ue()},79:function(e,t,n){},80:function(e,t,n){}},[[137,1,2]]]);
//# sourceMappingURL=main.ac43aad3.chunk.js.map